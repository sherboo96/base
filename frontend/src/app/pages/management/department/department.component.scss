:host ::ng-deep {
  .dialog-container {
    background: white;
    border-radius: 0.5rem;
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  }

  .dialog-backdrop {
    background-color: rgba(17, 24, 39, 0.5);
  }

  // Drag and Drop Styles for Cards
  .children-drop-zone {
    position: relative;
    min-height: auto;
    
    &.cdk-drop-list-dragging {
      .children-container {
        background-color: rgba(11, 83, 103, 0.05);
        border-left-color: rgb(11, 83, 103);
        border-left-width: 3px;
      }
    }
    
    &.cdk-drop-list-receiving {
      .children-container {
        background-color: rgba(11, 83, 103, 0.08);
        border-left-color: rgb(11, 83, 103);
        border-left-width: 4px;
      }
    }
  }
  
  .empty-children-drop-zone {
    position: relative;
    min-height: 60px;
    transition: all 0.2s ease;
    
    &.cdk-drop-list-dragging {
      background-color: rgba(11, 83, 103, 0.05);
      border-color: rgb(11, 83, 103);
      
      div {
        border-color: rgb(11, 83, 103);
        color: rgb(11, 83, 103);
        font-weight: 600;
      }
    }
    
    &.cdk-drop-list-receiving {
      background-color: rgba(11, 83, 103, 0.08);
      
      div {
        border-color: rgb(11, 83, 103);
        border-width: 3px;
        color: rgb(11, 83, 103);
        font-weight: 600;
      }
    }
  }

  .department-card-drag-item {
    position: relative;
    
    &.cdk-drag-animating {
      transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
    }
  }

  .root-drop-zone {
    min-height: 200px;
    border-radius: 12px;
    transition: all 0.2s ease;
    
    &.cdk-drop-list-dragging {
      background-color: rgba(11, 83, 103, 0.05);
      border: 2px dashed rgb(11, 83, 103);
    }
    
    &.cdk-drop-list-receiving {
      background-color: rgba(11, 83, 103, 0.08);
      border: 2px solid rgb(11, 83, 103);
    }
  }
  
  .cdk-drop-list {
    min-height: 20px;
    
    &.cdk-drop-list-dragging {
      .department-card-drag-item:not(.cdk-drag-placeholder) {
        opacity: 0.6;
      }
    }
  }

  .cdk-drag-preview {
    box-sizing: border-box;
    border-radius: 12px;
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2), 0 0 0 2px rgba(11, 83, 103, 0.2);
    opacity: 0.98;
    z-index: 1000;
    transform: rotate(1deg) scale(1.02);
    pointer-events: none;
  }

  .cdk-drag-placeholder {
    opacity: 0.5;
    background: rgba(11, 83, 103, 0.1);
    border: 2px dashed rgb(11, 83, 103);
    border-radius: 12px;
    min-height: 200px;
  }

  .cdk-drop-list.cdk-drop-list-dragging {
    .department-card-drag-item:not(.cdk-drag-placeholder) {
      opacity: 0.5;
    }
  }
  
  // Card hover effects
  .department-card-wrapper {
    position: relative;
    margin-bottom: 1rem;
    
    .department-card-drag-item {
      position: relative;
      z-index: 1;
      
      &:hover {
        transform: translateY(-2px);
      }
      
      &.cdk-drag-animating {
        transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
      }
    }
    
    // Child card styling - indentation and visual hierarchy
    &.is-child {
      margin-left: 0;
      position: relative;
    }
  }
  
  // Hierarchy connector for child cards - simplified
  .hierarchy-connector {
    display: none; // Remove for now to simplify UI
  }
  
  // Children container styling
  .children-container {
    position: relative;
    padding-left: 1rem;
    transition: all 0.2s ease;
  }
  
  // Ensure cards have proper spacing and don't overlap
  .department-card-wrapper {
    .bg-white {
      overflow: visible;
    }
    
    // Fix button alignment issues
    .flex.items-center.gap-2 {
      margin-left: 0;
      margin-right: 0;
    }
  }
}
