<div class="p-8 max-h-[90vh] overflow-y-auto custom-scrollbar">
  <!-- Header Section -->
  <div class="mb-8">
    <div class="flex items-center space-x-3">
      <div class="p-2 bg-accent/10 rounded-lg">
        <i class="fas fa-user-tie text-accent text-xl"></i>
      </div>
      <div>
        <h2 class="text-2xl font-bold text-textDark font-poppins">
          {{ isEdit ? ('instructor.editInstructor' | translate) : ('instructor.addInstructor' | translate) }}
        </h2>
        <p class="text-sm text-gray-600 mt-1 font-poppins">
          {{
            isEdit
              ? ('instructor.editInstructorDescription' | translate)
              : ('instructor.addInstructorDescription' | translate)
          }}
        </p>
      </div>
    </div>
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Profile Image Upload -->
    <div class="space-y-2">
      <label class="block text-sm font-medium text-textDark font-poppins">
        {{ 'instructor.profileImage' | translate }}
      </label>
      <div class="flex items-center gap-4">
        <div class="relative">
          <div
            *ngIf="imagePreview"
            class="w-32 h-32 rounded-lg overflow-hidden border-2 border-gray-300"
          >
            <img
              [src]="imagePreview"
              alt="Profile preview"
              class="w-full h-full object-cover"
            />
          </div>
          <div
            *ngIf="!imagePreview"
            class="w-32 h-32 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50"
          >
            <i class="fas fa-user text-gray-400 text-3xl"></i>
          </div>
          <input
            type="file"
            accept="image/*"
            (change)="onFileSelected($event)"
            class="hidden"
            id="profileImageInput"
          />
        </div>
        <div class="flex flex-col gap-2">
          <label
            for="profileImageInput"
            class="px-4 py-2 bg-accent text-white rounded-lg hover:bg-accentDark transition-colors cursor-pointer text-sm font-medium text-center font-poppins"
          >
            <i class="fas fa-upload mr-2"></i>{{ 'instructor.uploadImage' | translate }}
          </label>
          <button
            *ngIf="imagePreview"
            type="button"
            (click)="removeImage()"
            class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium"
          >
            <i class="fas fa-trash mr-2"></i>{{ 'instructor.removeImage' | translate }}
          </button>
        </div>
      </div>
    </div>

    <!-- Name (English) -->
    <div class="space-y-2">
      <label for="nameEn" class="block text-sm font-medium text-textDark font-poppins">
        {{ 'instructor.nameEnglish' | translate }}
        <span class="text-red-500">*</span>
      </label>
      <div class="relative">
        <div
          class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
        >
          <i class="fas fa-font text-gray-400"></i>
        </div>
        <input
          type="text"
          id="nameEn"
          formControlName="nameEn"
          class="form-control w-full border-2 border-gray-300 rounded-lg py-2.5 pl-10 pr-3 text-sm focus:ring-2 focus:ring-accent focus:border-accent transition-all duration-200"
          [placeholder]="'instructor.nameEnglishPlaceholder' | translate"
        />
      </div>
      <div
        *ngIf="form.get('nameEn')?.invalid && form.get('nameEn')?.touched"
        class="flex items-center text-sm text-red-600"
      >
        <i class="fas fa-exclamation-circle mr-1"></i>
        {{ 'instructor.nameEnglishRequired' | translate }}
      </div>
    </div>

    <!-- Name (Arabic) -->
    <div class="space-y-2">
      <label for="nameAr" class="block text-sm font-medium text-textDark font-poppins">
        {{ 'instructor.nameArabic' | translate }}
        <span class="text-red-500">*</span>
      </label>
      <input
        type="text"
        id="nameAr"
        formControlName="nameAr"
        dir="rtl"
        class="form-control w-full border-2 border-gray-300 rounded-lg py-2.5 px-3 text-sm focus:ring-2 focus:ring-accent focus:border-accent transition-all duration-200"
        [placeholder]="'instructor.nameArabicPlaceholder' | translate"
      />
      <div
        *ngIf="form.get('nameAr')?.invalid && form.get('nameAr')?.touched"
        class="flex items-center text-sm text-red-600"
      >
        <i class="fas fa-exclamation-circle mr-1"></i>
        {{ 'instructor.nameArabicRequired' | translate }}
      </div>
    </div>

    <!-- Email -->
    <div class="space-y-2">
      <label for="email" class="block text-sm font-medium text-textDark font-poppins">
        {{ 'instructor.email' | translate }}
        <span class="text-red-500">*</span>
      </label>
      <div class="relative">
        <div
          class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
        >
          <i class="fas fa-envelope text-gray-400"></i>
        </div>
        <input
          type="email"
          id="email"
          formControlName="email"
          class="form-control w-full border-2 border-gray-300 rounded-lg py-2.5 pl-10 pr-3 text-sm focus:ring-2 focus:ring-accent focus:border-accent transition-all duration-200"
          [placeholder]="'instructor.emailPlaceholder' | translate"
        />
      </div>
      <div
        *ngIf="form.get('email')?.invalid && form.get('email')?.touched"
        class="flex items-center text-sm text-red-600"
      >
        <i class="fas fa-exclamation-circle mr-1"></i>
        <span *ngIf="form.get('email')?.errors?.['required']">
          {{ 'instructor.emailRequired' | translate }}
        </span>
        <span *ngIf="form.get('email')?.errors?.['email']">
          {{ 'instructor.emailInvalid' | translate }}
        </span>
      </div>
    </div>

    <!-- Phone -->
    <div class="space-y-2">
      <label for="phone" class="block text-sm font-medium text-textDark font-poppins">
        {{ 'instructor.phone' | translate }}
      </label>
      <div class="relative">
        <div
          class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
        >
          <i class="fas fa-phone text-gray-400"></i>
        </div>
        <input
          type="tel"
          id="phone"
          formControlName="phone"
          class="form-control w-full border-2 border-gray-300 rounded-lg py-2.5 pl-10 pr-3 text-sm focus:ring-2 focus:ring-accent focus:border-accent transition-all duration-200"
          [placeholder]="'instructor.phonePlaceholder' | translate"
        />
      </div>
    </div>

    <!-- Bio -->
    <div class="space-y-2">
      <label for="bio" class="block text-sm font-medium text-textDark font-poppins">
        {{ 'instructor.bio' | translate }}
      </label>
      <textarea
        id="bio"
        formControlName="bio"
        rows="4"
        class="form-control w-full border-2 border-gray-300 rounded-lg py-2.5 px-3 text-sm focus:ring-2 focus:ring-accent focus:border-accent transition-all duration-200"
        [placeholder]="'instructor.bioPlaceholder' | translate"
      ></textarea>
    </div>

    <!-- Institution -->
    <div class="space-y-2">
      <label for="institutionId" class="block text-sm font-medium text-textDark font-poppins">
        {{ 'instructor.institution' | translate }}
        <span class="text-red-500">*</span>
      </label>
      <div class="relative">
        <div
          class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
        >
          <i class="fas fa-university text-gray-400"></i>
        </div>
        <select
          id="institutionId"
          formControlName="institutionId"
          class="form-control w-full border-2 border-gray-300 rounded-lg py-2.5 pl-10 pr-10 text-sm focus:ring-2 focus:ring-accent focus:border-accent transition-all duration-200 appearance-none bg-white"
        >
          <option [value]="null">{{ 'instructor.selectInstitution' | translate }}</option>
          <option *ngFor="let inst of institutions" [value]="inst.id">
            {{ inst.name }}
          </option>
        </select>
        <div
          class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"
        >
          <i class="fas fa-chevron-down text-gray-400"></i>
        </div>
      </div>
      <div
        *ngIf="form.get('institutionId')?.invalid && form.get('institutionId')?.touched"
        class="flex items-center text-sm text-red-600"
      >
        <i class="fas fa-exclamation-circle mr-1"></i>
        {{ 'instructor.institutionRequired' | translate }}
      </div>
    </div>

    <!-- Form Actions -->
    <div class="flex justify-end gap-3 pt-4 border-t border-gray-200">
      <button
        type="button"
        (click)="onCancel()"
        class="px-6 py-2.5 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all duration-200 font-medium"
      >
        {{ 'common.cancel' | translate }}
      </button>
      <button
        type="submit"
        [disabled]="isSubmitting || form.invalid"
        class="px-6 py-2.5 bg-accentDark text-white rounded-lg hover:bg-accentDarker transition-all duration-200 shadow-md hover:shadow-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed font-poppins"
      >
        <span *ngIf="!isSubmitting">
          {{ isEdit ? ('instructor.update' | translate) : ('instructor.create' | translate) }}
        </span>
        <span *ngIf="isSubmitting">
          {{ isEdit ? ('instructor.updating' | translate) : ('instructor.creating' | translate) }}
        </span>
      </button>
    </div>
  </form>
</div>
