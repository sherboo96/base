<div class="side-menu-container h-screen flex flex-col bg-white shadow-lg border-r rtl:border-r-0 rtl:border-l border-gray-100 relative z-50 transition-all duration-300"
    [ngClass]="{'w-[220px]':!isCollapsed,'w-[80px]':isCollapsed}">
    <div class="flex flex-col items-center pt-6 pb-8 border-b border-gray-100 relative">
        <button (click)="toggleCollapse()"
            class="absolute top-2 right-2 rtl:right-auto rtl:left-2 w-8 h-8 flex items-center justify-center rounded-lg hover:bg-accent/10 text-gray-500 hover:text-accent transition-all duration-200 font-poppins"
            [title]="isCollapsed?('sidemenu.expand'|translate):('sidemenu.collapse'|translate)">
            <i class="fas transition-transform duration-300"
                [ngClass]="{'fa-chevron-left':!isCollapsed,'fa-chevron-right':isCollapsed,'rtl:rotate-180':true}"></i>
        </button>
        <a (click)="navigateToDashboard()"
            class="flex flex-col items-center cursor-pointer hover:opacity-90 transition-opacity duration-200">
            <div class="rounded-full border-4 border-accent/10 overflow-hidden flex items-center justify-center transition-all duration-300"
                [ngClass]="{'w-24 h-24':!isCollapsed,'w-16 h-16':isCollapsed}">
                <img src="assets/images/logo.png" alt="Ministry of Oil Logo"
                    class="object-contain transition-all duration-300 hover:scale-105 drop-shadow-[0_4px_6px_rgba(11,83,103,0.2)] hover:drop-shadow-[0_10px_15px_rgba(11,83,103,0.4)]"
                    [ngClass]="{'w-20 h-20':!isCollapsed,'w-12 h-12':isCollapsed}" />
            </div>
            <h1 class="mt-3 text-lg font-semibold text-gray-800 text-center rtl:text-right font-poppins transition-all duration-300 overflow-hidden"
                [ngClass]="{'opacity-100 max-h-20':!isCollapsed,'opacity-0 max-h-0 mt-0':isCollapsed}">
                {{'sidemenu.ministryOfOil'|translate}}
            </h1>
            <p class="text-xs text-gray-500 text-center rtl:text-right font-poppins transition-all duration-300 overflow-hidden"
                [ngClass]="{'opacity-100 max-h-20':!isCollapsed,'opacity-0 max-h-0 mt-0':isCollapsed}">
                {{'sidemenu.usersManagementSystem'|translate}}
            </p>
        </a>
    </div>
    <div class="flex-grow overflow-y-auto custom-scrollbar py-2 px-3 mt-4">
        <div class="mb-4 pl-3 rtl:pl-0 rtl:pr-3 transition-all duration-300"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0 overflow-hidden':isCollapsed}">
            <h2
                class="text-[10px] uppercase tracking-wider text-gray-500 font-semibold text-left rtl:text-right font-poppins relative after:content-[''] after:absolute after:left-[-0.75rem] rtl:after:left-auto rtl:after:right-[-0.75rem] after:bottom-[-0.25rem] after:h-[1px] after:w-8 after:bg-accent">
                {{'sidemenu.mainNavigation'|translate}}
            </h2>
        </div>
        <ul class="space-y-1">
            <li>
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse relative overflow-hidden animate-[fadeIn_0.3s_ease_forwards]"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/dashboard'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/dashboard')}"
                    (click)="navigateToDashboard()" [title]="isCollapsed?('sidemenu.dashboard'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/dashboard')}">
                        <i class="material-icons text-lg">dashboard</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/dashboard'),'text-gray-700':!isActiveRoute('/dashboard')}">
                        {{'sidemenu.dashboard'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="isDepartmentHead()">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse relative overflow-hidden animate-[fadeIn_0.3s_ease_forwards]"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/requests'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/requests')}"
                    (click)="navigateToRequests()" [title]="isCollapsed?('sidemenu.requests'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/requests')}">
                        <i class="material-icons text-lg">approval</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/requests'),'text-gray-700':!isActiveRoute('/requests')}">
                        {{'sidemenu.requests'|translate}}
                    </span>
                </a>
            </li>
        </ul>
        <!-- COURSES Section (Public) - Moved Above COURSES MANAGEMENT -->
        <div *ngIf="hasPublicCourseTabs() && hasCourseTabsShowPublicPermission()"
            class="my-4 pl-3 rtl:pl-0 rtl:pr-3 transition-all duration-300"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0 overflow-hidden':isCollapsed}">
            <h2
                class="text-[10px] uppercase tracking-wider text-gray-500 font-semibold text-left rtl:text-right font-poppins relative after:content-[''] after:absolute after:left-[-0.75rem] rtl:after:left-auto rtl:after:right-[-0.75rem] after:bottom-[-0.25rem] after:h-[1px] after:w-8 after:bg-accent">
                {{'sidemenu.courses'|translate}}
            </h2>
        </div>
        <ul *ngIf="hasPublicCourseTabs() && hasCourseTabsShowPublicPermission()" class="space-y-1">
            <li *ngFor="let courseTab of publicCourseTabs; trackBy: trackByCourseTabId">
                <div>
                    <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse relative overflow-hidden animate-[fadeIn_0.3s_ease_forwards]"
                        [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':courseTab.routeCode && isActiveRoute('/courses/' + courseTab.routeCode),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!courseTab.routeCode || !isActiveRoute('/courses/' + courseTab.routeCode)}"
                        (click)="navigateToCourse(courseTab, false)" [title]="isCollapsed?(courseTab.name):''">
                        <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                            [ngClass]="{'bg-accent/10 text-accent':courseTab.routeCode && isActiveRoute('/courses/' + courseTab.routeCode)}">
                            <i *ngIf="courseTab.icon && isMaterialIcon(courseTab.icon)"
                                class="material-icons text-lg">{{ getIconName(courseTab.icon) }}</i>
                            <i *ngIf="courseTab.icon && !isMaterialIcon(courseTab.icon)" [ngClass]="courseTab.icon"
                                class="text-lg"></i>
                            <i *ngIf="!courseTab.icon" class="material-icons text-lg">book</i>
                        </div>
                        <span
                            class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                            [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':courseTab.routeCode && isActiveRoute('/courses/' + courseTab.routeCode),'text-gray-700':!courseTab.routeCode || !isActiveRoute('/courses/' + courseTab.routeCode)}">
                            {{courseTab.name}}
                        </span>
                    </a>
                </div>
            </li>
        </ul>
        <!-- COURSES MANAGEMENT Section -->
        <div *ngIf="hasCourseTabs() && hasCourseTabsShowInMenuPermission()"
            class="my-4 pl-3 rtl:pl-0 rtl:pr-3 transition-all duration-300"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0 overflow-hidden':isCollapsed}">
            <h2
                class="text-[10px] uppercase tracking-wider text-gray-500 font-semibold text-left rtl:text-right font-poppins relative after:content-[''] after:absolute after:left-[-0.75rem] rtl:after:left-auto rtl:after:right-[-0.75rem] after:bottom-[-0.25rem] after:h-[1px] after:w-8 after:bg-accent">
                {{'sidemenu.coursesManagement'|translate}}
            </h2>
        </div>
        <ul *ngIf="hasCourseTabs() && hasCourseTabsShowInMenuPermission()" class="space-y-1">
            <li *ngFor="let courseTab of courseTabs; trackBy: trackByCourseTabId">
                <div>
                    <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse relative overflow-hidden animate-[fadeIn_0.3s_ease_forwards]"
                        [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveCourseRoute(courseTab.id),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveCourseRoute(courseTab.id)}"
                        (click)="navigateToCourseManagement(courseTab.id)" [title]="isCollapsed?(courseTab.name):''">
                        <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                            [ngClass]="{'bg-accent/10 text-accent':isActiveCourseRoute(courseTab.id)}">
                            <i *ngIf="courseTab.icon && isMaterialIcon(courseTab.icon)"
                                class="material-icons text-lg">{{ getIconName(courseTab.icon) }}</i>
                            <i *ngIf="courseTab.icon && !isMaterialIcon(courseTab.icon)" [ngClass]="courseTab.icon"
                                class="text-lg"></i>
                            <i *ngIf="!courseTab.icon" class="material-icons text-lg">book</i>
                        </div>
                        <span
                            class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden flex-1"
                            [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveCourseRoute(courseTab.id),'text-gray-700':!isActiveCourseRoute(courseTab.id)}">
                            {{courseTab.name}}
                        </span>
                    </a>
                </div>
            </li>
        </ul>
        <div *ngIf="hasManagementItems()" class="my-4 pl-3 rtl:pl-0 rtl:pr-3 transition-all duration-300"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0 overflow-hidden':isCollapsed}">
            <h2
                class="text-[10px] uppercase tracking-wider text-gray-500 font-semibold text-left rtl:text-right font-poppins relative after:content-[''] after:absolute after:left-[-0.75rem] rtl:after:left-auto rtl:after:right-[-0.75rem] after:bottom-[-0.25rem] after:h-[1px] after:w-8 after:bg-accent">
                {{'sidemenu.management'|translate}}
            </h2>
        </div>
        <ul *ngIf="hasManagementItems()" class="space-y-1">
            <li *ngIf="hasPermission('ORGANIZATIONS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse relative overflow-hidden animate-[fadeIn_0.3s_ease_forwards]"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/organization'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/organization')}"
                    (click)="navigateToOrganization()" [title]="isCollapsed?('sidemenu.organization'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/organization')}">
                        <i class="material-icons text-lg">business</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/organization'),'text-gray-700':!isActiveRoute('/management/organization')}">
                        {{'sidemenu.organization'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('DEPARTMENTS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/department'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/department')}"
                    (click)="navigateToDepartment()" [title]="isCollapsed?('sidemenu.department'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/department')}">
                        <i class="material-icons text-lg">account_balance</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/department'),'text-gray-700':!isActiveRoute('/management/department')}">
                        {{'sidemenu.department'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('JOB_TITLES_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/positions'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/positions')}"
                    (click)="navigateToPositions()" [title]="isCollapsed?('sidemenu.positions'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/positions')}">
                        <i class="material-icons text-lg">work</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/positions'),'text-gray-700':!isActiveRoute('/management/positions')}">
                        {{'sidemenu.positions'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('JOB_TITLES_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/job-titles'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/job-titles')}"
                    (click)="navigateToJobTitles()" [title]="isCollapsed?('sidemenu.jobTitles'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/job-titles')}">
                        <i class="material-icons text-lg">badge</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/job-titles'),'text-gray-700':!isActiveRoute('/management/job-titles')}">
                        {{'sidemenu.jobTitles'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('LOCATIONS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/location'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/location')}"
                    (click)="navigateToLocation()" [title]="isCollapsed?('sidemenu.location'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/location')}">
                        <i class="material-icons text-lg">location_on</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/location'),'text-gray-700':!isActiveRoute('/management/location')}">
                        {{'sidemenu.location'|translate}}
                    </span>
                </a>
            </li>
        </ul>
        <!-- EVENTS Section -->
        <div *ngIf="hasEventsItems()" class="my-4 pl-3 rtl:pl-0 rtl:pr-3 transition-all duration-300"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0 overflow-hidden':isCollapsed}">
            <h2
                class="text-[10px] uppercase tracking-wider text-gray-500 font-semibold text-left rtl:text-right font-poppins relative after:content-[''] after:absolute after:left-[-0.75rem] rtl:after:left-auto rtl:after:right-[-0.75rem] after:bottom-[-0.25rem] after:h-[1px] after:w-8 after:bg-accent">
                {{'sidemenu.events'|translate}}
            </h2>
        </div>
        <ul *ngIf="hasEventsItems()" class="space-y-1">
            <li *ngIf="hasPermission('EVENTS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/events'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/events')}"
                    (click)="navigateToEvents()" [title]="isCollapsed?('sidemenu.event'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/events')}">
                        <i class="material-icons text-lg">event</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/events'),'text-gray-700':!isActiveRoute('/management/events')}">
                        {{'sidemenu.event'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('EVENT_ORGANIZATIONS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/event-organizations'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/event-organizations')}"
                    (click)="navigateToEventOrganizations()"
                    [title]="isCollapsed?('sidemenu.eventOrganization'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/event-organizations')}">
                        <i class="material-icons text-lg">business_center</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/event-organizations'),'text-gray-700':!isActiveRoute('/management/event-organizations')}">
                        {{'sidemenu.eventOrganization'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('EVENT_SPEAKERS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/event-speakers'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/event-speakers')}"
                    (click)="navigateToEventSpeakers()" [title]="isCollapsed?('sidemenu.eventSpeaker'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/event-speakers')}">
                        <i class="material-icons text-lg">mic</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/event-speakers'),'text-gray-700':!isActiveRoute('/management/event-speakers')}">
                        {{'sidemenu.eventSpeaker'|translate}}
                    </span>
                </a>
            </li>
        </ul>
        <div *ngIf="hasUserManagementItems()" class="my-4 pl-3 rtl:pl-0 rtl:pr-3 transition-all duration-300"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0 overflow-hidden':isCollapsed}">
            <h2
                class="text-[10px] uppercase tracking-wider text-gray-500 font-semibold text-left rtl:text-right font-poppins relative after:content-[''] after:absolute after:left-[-0.75rem] rtl:after:left-auto rtl:after:right-[-0.75rem] after:bottom-[-0.25rem] after:h-[1px] after:w-8 after:bg-accent">
                {{'sidemenu.userManagement'|translate}}
            </h2>
        </div>
        <ul *ngIf="hasUserManagementItems()" class="space-y-1">
            <li *ngIf="hasPermission('USERS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/users'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/users')}"
                    (click)="navigateToUsers()" [title]="isCollapsed?('sidemenu.users'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/users')}">
                        <i class="material-icons text-lg">people</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/users'),'text-gray-700':!isActiveRoute('/management/users')}">
                        {{'sidemenu.users'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('SEGMENTS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/segment'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/segment')}"
                    (click)="navigateToSegments()" [title]="isCollapsed?('sidemenu.segments'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/segment')}">
                        <i class="material-icons text-lg">pie_chart</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/segment'),'text-gray-700':!isActiveRoute('/management/segment')}">
                        {{'sidemenu.segments'|translate}}
                    </span>
                </a>
            </li>
        </ul>
        <div *ngIf="hasRoleManagementItems()" class="my-4 pl-3 rtl:pl-0 rtl:pr-3 transition-all duration-300"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0 overflow-hidden':isCollapsed}">
            <h2
                class="text-[10px] uppercase tracking-wider text-gray-500 font-semibold text-left rtl:text-right font-poppins relative after:content-[''] after:absolute after:left-[-0.75rem] rtl:after:left-auto rtl:after:right-[-0.75rem] after:bottom-[-0.25rem] after:h-[1px] after:w-8 after:bg-accent">
                {{'sidemenu.roleManagement'|translate}}
            </h2>
        </div>
        <ul *ngIf="hasRoleManagementItems()" class="space-y-1">
            <li *ngIf="hasPermission('ROLES_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/roles'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/roles')}"
                    (click)="navigateToRoles()" [title]="isCollapsed?('sidemenu.roles'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/roles')}">
                        <i class="material-icons text-lg">supervisor_account</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/roles'),'text-gray-700':!isActiveRoute('/management/roles')}">
                        {{'sidemenu.roles'|translate}}
                    </span>
                </a>
            </li>
        </ul>
        <div *ngIf="hasCourseConfigurationItems()" class="my-4 pl-3 rtl:pl-0 rtl:pr-3 transition-all duration-300"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0 overflow-hidden':isCollapsed}">
            <h2
                class="text-[10px] uppercase tracking-wider text-gray-500 font-semibold text-left rtl:text-right font-poppins relative after:content-[''] after:absolute after:left-[-0.75rem] rtl:after:left-auto rtl:after:right-[-0.75rem] after:bottom-[-0.25rem] after:h-[1px] after:w-8 after:bg-accent">
                {{'sidemenu.courseConfiguration'|translate}}
            </h2>
        </div>
        <ul *ngIf="hasCourseConfigurationItems()" class="space-y-1">
            <li *ngIf="hasPermission('ADOPTION_USERS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/adoption-user'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/adoption-user')}"
                    (click)="navigateToAdoptionUser()" [title]="isCollapsed?('sidemenu.adoptionUser'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/adoption-user')}">
                        <i class="material-icons text-lg">person_add</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/adoption-user'),'text-gray-700':!isActiveRoute('/management/adoption-user')}">
                        {{'sidemenu.adoptionUser'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('INSTRUCTORS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/instructor'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/instructor')}"
                    (click)="navigateToInstructor()" [title]="isCollapsed?('sidemenu.instructor'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/instructor')}">
                        <i class="material-icons text-lg">school</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/instructor'),'text-gray-700':!isActiveRoute('/management/instructor')}">
                        {{'sidemenu.instructor'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('INSTITUTIONS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/institution'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/institution')}"
                    (click)="navigateToInstitution()" [title]="isCollapsed?('sidemenu.institution'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/institution')}">
                        <i class="material-icons text-lg">account_balance</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/institution'),'text-gray-700':!isActiveRoute('/management/institution')}">
                        {{'sidemenu.institution'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('COURSE_TABS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/course-tab'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/course-tab')}"
                    (click)="navigateToCourseTab()" [title]="isCollapsed?('sidemenu.courseTab'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/course-tab')}">
                        <i class="material-icons text-lg">folder</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/course-tab'),'text-gray-700':!isActiveRoute('/management/course-tab')}">
                        {{'sidemenu.courseTab'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('COURSE_TAB_APPROVALS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/course-tab-approvals'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/course-tab-approvals')}"
                    (click)="navigateToCourseTabApprovals()"
                    [title]="isCollapsed?('sidemenu.courseTabApprovals'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/course-tab-approvals')}">
                        <i class="material-icons text-lg">verified</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/course-tab-approvals'),'text-gray-700':!isActiveRoute('/management/course-tab-approvals')}">
                        {{'sidemenu.courseTabApprovals'|translate}}
                    </span>
                </a>
            </li>
        </ul>
        <div *ngIf="hasSystemAdministrationItems()" class="my-4 pl-3 rtl:pl-0 rtl:pr-3 transition-all duration-300"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0 overflow-hidden':isCollapsed}">
            <h2
                class="text-[10px] uppercase tracking-wider text-gray-500 font-semibold text-left rtl:text-right font-poppins relative after:content-[''] after:absolute after:left-[-0.75rem] rtl:after:left-auto rtl:after:right-[-0.75rem] after:bottom-[-0.25rem] after:h-[1px] after:w-8 after:bg-accent">
                {{'sidemenu.systemAdministration'|translate}}
            </h2>
        </div>
        <ul *ngIf="hasSystemAdministrationItems()" class="space-y-1">
            <li *ngIf="hasPermission('SYSTEM_CONFIG_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/system-configuration'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/system-configuration')}"
                    (click)="navigateToSystemConfiguration()"
                    [title]="isCollapsed?('sidemenu.systemConfiguration'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/system-configuration')}">
                        <i class="material-icons text-lg">settings</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/system-configuration'),'text-gray-700':!isActiveRoute('/management/system-configuration')}">
                        {{'sidemenu.systemConfiguration'|translate}}
                    </span>
                </a>
            </li>
            <li *ngIf="hasPermission('LOGS_VIEW')">
                <a class="py-1.5 flex items-center cursor-pointer rounded-lg transition-all duration-200 group rtl:flex-row-reverse"
                    [ngClass]="{'px-4':!isCollapsed,'px-2 justify-center':isCollapsed,'bg-accent/10 text-accent shadow-sm border-l-4 rtl:border-l-0 rtl:border-r-4 border-accent':isActiveRoute('/management/logs'),'hover:bg-gray-50 border-l-4 rtl:border-l-0 rtl:border-r-4 border-transparent':!isActiveRoute('/management/logs')}"
                    (click)="navigateToLogs()"
                    [title]="isCollapsed?('sidemenu.logs'|translate):''">
                    <div class="w-8 h-8 flex items-center justify-center rounded-lg bg-gray-100 group-hover:bg-accent/10 group-hover:text-accent transition-all duration-300 group-hover:-translate-y-0.5 group-hover:shadow-md flex-shrink-0"
                        [ngClass]="{'bg-accent/10 text-accent':isActiveRoute('/management/logs')}">
                        <i class="material-icons text-lg">list_alt</i>
                    </div>
                    <span
                        class="text-sm text-left rtl:text-right font-poppins transition-all duration-300 whitespace-nowrap overflow-hidden"
                        [ngClass]="{'ml-3 rtl:ml-0 rtl:mr-3 opacity-100 max-w-full':!isCollapsed,'ml-0 mr-0 opacity-0 max-w-0':isCollapsed,'text-accent':isActiveRoute('/management/logs'),'text-gray-700':!isActiveRoute('/management/logs')}">
                        {{'sidemenu.logs'|translate}}
                    </span>
                </a>
            </li>
        </ul>
    </div>
    <div class="py-3 border-t border-gray-100 text-center rtl:text-right relative transition-all duration-300 hover:bg-accent/10"
        [ngClass]="{'px-4':!isCollapsed,'px-2':isCollapsed}">
        <p class="text-xs text-gray-500 font-poppins transition-all duration-300 overflow-hidden"
            [ngClass]="{'opacity-100':!isCollapsed,'opacity-0 h-0':isCollapsed}">
            {{'sidemenu.copyright'|translate:copyrightParams}}
        </p>
    </div>
</div>